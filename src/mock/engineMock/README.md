# エンジンモックのドキュメント

## 概要

通信を介さずに音声合成できるエンジンのモックです。
エンジンのOpenAPIから自動生成されたインターフェイス`DefaultApi`を継承しています。

同じ入力には同じ出力を返し、別の入力には別の出力を返すようになっています。
また出力を見たときにUIや処理の実装の異常に気付けるように、ある程度直感に合う出力を返すよう努力されています。  
例：音量を下げると音声が小さくなる、音程と周波数が一致する、など。

モックの実装は気軽に破壊的変更しても問題ありません。

## 実装ポリシー

ブラウザ版でも使えるように実装されています。
モックエンジンの取り扱いポリシーはこんな感じです。

- Electronビルド成果物
  - モックエンジン関連の重いファイルはなるべく含まれないようにする
    - 形態素解析の辞書ファイルやダミー画像など
  - モックエンジン関連の重い処理が一切実行されないようにする
    - 形態素解析の辞書の初期化、画像の読み込みなど

## ファイル構成

- `talkModelMock`
  - トーク用の音声クエリを作るまでの処理
- `singModelMock`
  - ソング用の音声クエリを作るまでの処理
- `audioQueryMock`
  - 音声クエリを作る
- `synthesisMock`
  - 音声波形の合成
- `characterResourceMock`
  - キャラ名や画像などのリソース
- `phonemeMock`
  - 音素
- `manifestMock`
  - エンジンのマニフェスト
